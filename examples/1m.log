# 2025-12-26T21:59:56+08:00
# Input: /mnt/d/proj/spice_netlist_parser/examples/1m.sp
# JSON output: /mnt/d/proj/spice_netlist_parser/examples//1m.json
# Compare output: /mnt/d/proj/spice_netlist_parser/examples//1m.json
# Command (parse): /mnt/d/proj/spice_netlist_parser/netlist_parser.sh "/mnt/d/proj/spice_netlist_parser/examples/1m.sp" --format json --output "/mnt/d/proj/spice_netlist_parser/examples//1m.json" 
------------------------------------------------------------
[0;34mSPICE Netlist Parser[0m
====================

Note: Not in a virtual environment. Consider using one.

[0;32mRunning parser...[0m

2025-12-26 21:59:58,348 - spice_netlist_parser.parser - INFO - Parsing file: /mnt/d/proj/spice_netlist_parser/examples/1m.sp
2025-12-26 22:00:10,146 - spice_netlist_parser.cli - ERROR - Failed to parse /mnt/d/proj/spice_netlist_parser/examples/1m.sp: File: /mnt/d/proj/spice_netlist_parser/examples/1m.sp - Line 13 - Unexpected token at line 13: Unexpected token Token('MODEL_NAME', 'AD') at line 13, column 34.
Expected one of: 
	* NEWLINE
	* __ANON_3
	* INDUCTOR_NAME
	* __ANON_0
	* COMPONENT_NAME
	* VOLTAGE_NAME
	* __ANON_6
	* MOSFET_NAME
	* __ANON_4
	* CAPACITOR_NAME
	* FUNCTION_CALL
	* BJT_NAME
	* PARAM_ASSIGN
	* RESISTOR_NAME
	* STRING
	* __ANON_10
	* ZERO
	* DIODE_NAME
	* __ANON_1
	* __ANON_7
	* SIGNED_NUMBER
	* CURRENT_NAME
	* PARAM_NAME
	* __ANON_8
	* SUBCKT_INST_NAME
	* __ANON_9
	* __ANON_2


# Command (compare): /mnt/d/proj/spice_netlist_parser/netlist_parser.sh "/mnt/d/proj/spice_netlist_parser/examples/1m.sp" --compare "/mnt/d/proj/spice_netlist_parser/examples/1m.sp" --compare-format json --compare-output "/mnt/d/proj/spice_netlist_parser/examples//1m.json" 
------------------------------------------------------------
[0;34mSPICE Netlist Parser[0m
====================

Note: Not in a virtual environment. Consider using one.

[0;34mNetlist comparison[0m
-------------------
[0;32mComparing:[0m /mnt/d/proj/spice_netlist_parser/examples/1m.sp  <->  /mnt/d/proj/spice_netlist_parser/examples/1m.sp

2025-12-26 22:00:11,316 - spice_netlist_parser.parser - INFO - Parsing file: /mnt/d/proj/spice_netlist_parser/examples/1m.sp
Traceback (most recent call last):
  File "/home/yongfu/.local/lib/python3.10/site-packages/lark/parsers/lalr_parser_state.py", line 77, in feed_token
    action, arg = states[state][token.type]
KeyError: 'MODEL_NAME'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/mnt/d/proj/spice_netlist_parser/src/spice_netlist_parser/ast_parser.py", line 524, in parse_string
    tree = self.parser.parse(processed_text, start="start")
  File "/home/yongfu/.local/lib/python3.10/site-packages/lark/lark.py", line 677, in parse
    return self.parser.parse(text, start=start, on_error=on_error)
  File "/home/yongfu/.local/lib/python3.10/site-packages/lark/parser_frontends.py", line 131, in parse
    return self.parser.parse(stream, chosen_start, **kw)
  File "/home/yongfu/.local/lib/python3.10/site-packages/lark/parsers/lalr_parser.py", line 42, in parse
    return self.parser.parse(lexer, start)
  File "/home/yongfu/.local/lib/python3.10/site-packages/lark/parsers/lalr_parser.py", line 88, in parse
    return self.parse_from_state(parser_state)
  File "/home/yongfu/.local/lib/python3.10/site-packages/lark/parsers/lalr_parser.py", line 111, in parse_from_state
    raise e
  File "/home/yongfu/.local/lib/python3.10/site-packages/lark/parsers/lalr_parser.py", line 102, in parse_from_state
    state.feed_token(token)
  File "/home/yongfu/.local/lib/python3.10/site-packages/lark/parsers/lalr_parser_state.py", line 80, in feed_token
    raise UnexpectedToken(token, expected, state=self, interactive_parser=None)
lark.exceptions.UnexpectedToken: Unexpected token Token('MODEL_NAME', 'AD') at line 13, column 34.
Expected one of: 
	* PARAM_NAME
	* __ANON_1
	* VOLTAGE_NAME
	* __ANON_0
	* STRING
	* RESISTOR_NAME
	* __ANON_9
	* DIODE_NAME
	* COMPONENT_NAME
	* PARAM_ASSIGN
	* __ANON_3
	* ZERO
	* __ANON_8
	* CAPACITOR_NAME
	* SIGNED_NUMBER
	* __ANON_4
	* BJT_NAME
	* MOSFET_NAME
	* SUBCKT_INST_NAME
	* NEWLINE
	* __ANON_7
	* __ANON_10
	* CURRENT_NAME
	* __ANON_2
	* __ANON_6
	* INDUCTOR_NAME
	* FUNCTION_CALL


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "<stdin>", line 36, in <module>
  File "<stdin>", line 18, in main
  File "/mnt/d/proj/spice_netlist_parser/src/spice_netlist_parser/comparison.py", line 319, in compare_files
    left = p.parse_file(left_path)
  File "/mnt/d/proj/spice_netlist_parser/src/spice_netlist_parser/parser.py", line 50, in parse_file
    ast = self.ast_parser.parse_file(filepath)
  File "/mnt/d/proj/spice_netlist_parser/src/spice_netlist_parser/ast_parser.py", line 470, in parse_file
    return self.parse_string(content)
  File "/mnt/d/proj/spice_netlist_parser/src/spice_netlist_parser/ast_parser.py", line 532, in parse_string
    raise ParseError(msg, filename=self.filename, line_number=line_num) from e
spice_netlist_parser.exceptions.ParseError: File: /mnt/d/proj/spice_netlist_parser/examples/1m.sp - Line 13 - Unexpected token at line 13: Unexpected token Token('MODEL_NAME', 'AD') at line 13, column 34.
Expected one of: 
	* PARAM_NAME
	* __ANON_1
	* VOLTAGE_NAME
	* __ANON_0
	* STRING
	* RESISTOR_NAME
	* __ANON_9
	* DIODE_NAME
	* COMPONENT_NAME
	* PARAM_ASSIGN
	* __ANON_3
	* ZERO
	* __ANON_8
	* CAPACITOR_NAME
	* SIGNED_NUMBER
	* __ANON_4
	* BJT_NAME
	* MOSFET_NAME
	* SUBCKT_INST_NAME
	* NEWLINE
	* __ANON_7
	* __ANON_10
	* CURRENT_NAME
	* __ANON_2
	* __ANON_6
	* INDUCTOR_NAME
	* FUNCTION_CALL

